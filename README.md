# blog-HTML5-Node.js-mongoDB
>一个使用了HTM5、Node.js、mongoDB数据的**单页面博客应用**
>
>使用的技术如下：
>
>1.前端：HTML5、CSS3、jQuery库、bootstrap框架、Ajax技术；
>
>2.后端：Node.js及其express框架搭建的web服务器；
>
>3.数据库：mongoDB数据库（其对应的Node.js驱动为mongoose）
<p>2017年3月1日：今天重新熟悉w3c中Ajax相关知识，并开始自己的小项目。</p><p>确定自己博客的模板和样式，并开始正式深入学习boostrap，并适时复习jQuery。</p><p>2017年3月2日：今天上午重新梳理正则表达式的基础知识，并看了nodejs的部分教程，教程来自云知梦。</p><p>后续的计划：每天的时间分为三部分：1.复习巩固之前的知识 2.继续自己的小项目 3.解决问题，分析总结。</p><p>初步确定网站前端结构</p><p>2017年3月3日：搞定网站导航栏 以及首页 此处难点：1.使logo与后面导航对齐 2.制作导航的响应特效，使下拉菜单与导航内菜单绑定3.小图标4. 使文字在视窗居中。5.使整体背景半透明。 晚上制作贪吃蛇小游戏。</p><p>2017年3月4日 ：上午重新捋贪吃蛇的小游戏，制作了一半。下午复习nodejs的相关知识。晚上完成贪吃蛇小游戏。自己试着写了一个后台服务器的js路由文件，实现了对单一页面的呈现，但无法加载css js等样式和行为。接下来决定先学些mysql，然后进一步熟悉connect中间件，然后学习express框架，最后再进行网站建设。</p><p>2017年3月5日：开始正式接触mysql数据库。考虑到MongoDB还不是台成熟，容易出现其他的问题，我解决不了，所以选择了目前最为成熟的mysql来学习。上午学习了数据库的基本概念以及数据类型等基础知识，下一步学习在node中使用mysql。晚上姐姐过来玩了一晚上，很久没有见了，陪着玩了会</p><p>2017年3月6日：上午在Windows和Linux上安装mySql，制作了相关教程。并学习了基本库操作和表操作，下午学习表字段属性。晚上学习mysql的增删 改命令，查的命令稍后学习。</p><p>2017年3月7日：上午初步了解nodejs 的express模块，复习原生Ajax的相关知识。下午学习connect中间件。进一步学习分派器、构建中间件的方法、挂载等相关知识。晚上学习connect的自带的中间件。</p><p>2017年3月8日：上午继续学习connect的自带中间件，下午学习express，并开始做第一个web应用，但是看得都是3.X版本，和4.X版本差距实在有点大。晚上找到两个教程，打算明天开始做一个个人博客，有可能需要回头补mongoDB的相关知识。</p><p>2017年3月9日：从头学习mongodb的相关知识。学了一天，了解mongodb的安装和基本指令操作。</p><p>2017年3月10日：今天上午和下午学习mongodb的相关知识，了解 游标 索引 以及聚合的概念。晚上继续自己的小博客。出现如下问题：</p><p>1.Failed to load c++ bson extension, using pure JS version</p><p>express-session deprecated undefined resave option; provide resave option app.js:16:9</p><p>express-session deprecated undefined saveUninitialized option; provide saveUninitialized option app.js:16:9</p><p>分析后应该是mongodb的原因。</p><p>2.Cannot determine state of server</p><p>今晚没有找出原因，明天会继续这个任务，但是我会先学习一下测试node程序，之后再进行后续的工作。</p><p>2017年3月13日：从11号开始了一场官司，一段失败的婚姻终于要结束了。这几天可能就没有心情学习了，尽量或多或少的去学习。。。当一段婚姻没有了任何的尊严与原则，只剩了退让，那就只能快刀斩乱麻了，以后的路还很长，到底如何谁知道呢。</p><p>2017年3月15日：这两天想起官司的事，就有些心情烦躁。抽空看了看一个blog的开发实例。对以下的几个知识点有些一头雾水：1.session相关知识 2.nodejs对mongodb的操作3.express4.X的API</p><p>2017年3月16日：深入学习expre4.X的API，自己开始根据已知的知识和刚学习的知识，自制一个服务器系统，初步实现了根据get路径，进行区别访问的功能，后面将陆续添加1.ejs模板，2.Ajax功能，3.控制mongodb数据库，4.注册登录功能</p><p>2017年3月17日：今天继续学习express4.X的API，同时加深js原型链的理解，以及学习Ajax的使用。今天的进度主要看了js原型对象 以及面向对象的一些知识，然后继续啊express的API学习，明天上午尽量看完express的API，在学过程中一定要联系实际应用。通过实例学习。</p><p>2017年3月18日：今天学习express的API  学习了mongodb的工具模块mongoose，学习了session的机理，后面就要再次进一步实现自己的blog了 吼吼吼</p><p>2017年3月19日：今天完善了novel.html网页，进一步看session  express的属性用法  ，感觉还是略感朦胧，我发现只是单纯的看教程，看官方文档，真的是收效甚微。所以，明天跟着网上的小项目再走一遍，如果仍然不明白，我就再走一遍，直到明白为止！！！ 就这么愉快的决定了。</p><p>2017年3月20-21日：在自己的小博客上成功实现了，注册 登录 发表文章等功能。在接下来的时间里，进一步学习mongodb的相关知识，实现评论区  以及图片的上传和显示功能</p><p>2017年3月22日：开始制作评论区显示页面，以及学习相关教程。</p><p>2017年3月23日：mongodb通过_id查询数据库，不论如何都不成功，不知所以</p><p>2017年3月24日：mongodb的_id需要通过ObjectId方法来对前台传入的id进行格式化，这个方法必须ObjectId = require（‘mongodb’）.ObectId来引入，才可以使用。。。醉了，网上根本么有相关资料。。。</p><p>2017年3月25日：对于评论区的post的form已经做好，但是对于数据库的控制还未找到好的办法，囧，今天计划是要把评论区做好的。无意中认识到一个markdown的价值，学习之。晚上做好了评论区，并增加了文章列表页面的阅读及评论的计数功能，其中阅读数作为对象存在数据库中，根据检索次数自增，评论数则直接使用的comments数组的length属性。后面还要在comments中的每一个对象加入楼层数。</p><p>2017年3月26日：上午竟然停电了，今天为博客添加头像，无意中发现了一个在手机上文章无法正常显示的bug，折腾了一晚上。</p><p>2017年3月27日：梳理博客的业务逻辑，温习http协议（这个后面还需要进一步加强）、express-session模块、bodyParser、node mongodb native以及即将学习的模块multier模块用于文件上传。本想通过node mongodb native 为评论区增加楼层显示功能，结果对mongodb的查询结果处理了半天，愣是实现不了该功能，醉了。。。</p><p>2017年3月28日：成功添加评论区楼层显示功能，晚上与铁哥聊了bug的问题</p><p>2017年3月29日：了解multer模块，重新对导航栏的颜色及其响应颜色进行调整。计划明天实现图片上传，和文章 评论的删除功能。</p><p>2017年3月30日：实现文件上传功能，并多次更改进入头像更换的入口，一开始采用随便点击一个头像的方式，后发现不妥，然后采用用户中心的方式，实现users集合和session的实时更换，但是没有实现已发文章和评论的头像的实时更换。</p><p>2017年3月31日：今天妹妹回来了来我家玩了一天，上午在家聊天，下午一块出去逛了逛公园，晚上继续搞这个头像，发现似乎是数据结构的原因，我可以搞定posts数据库中的每个文章的头像，但是无法搞定文章下评论区内每个评论对应的头像。</p><p>2017年4月1日：今天依旧在搜索mongodb的相关知识，希冀能实现，同时操作两个集合的方式，希望能实现操作集合时同时操作简单对象和数组内对象。后面想先实现一个函数中操作两个集合，但是服务器总是无响应，担心连接数太多的原因，默认是10个。</p><p>2017年4月2日：进一步研究node-mongodb-native驱动</p><p>2017年4月3日：确认不是mongodb的原因，而是对于异步函数的嵌套以及函数参数等问题认识不够深刻，最终成功实现换头像功能</p><p>2017年4月4日：使用js原生代码成功制作页码显示功能</p><p>2017年4月5日：添加getOne函数，之前所有的post查询都是放在一块的，这次对于文章页的查询单独使用一个函数，因为里面有对comment的处理。同时决定后面life和record都是用coding的这些写入和查询的函数，只为他们添加响应的tag即可</p><p>2017年4月6日：成功把昨晚没有完成的remove功能完善。今天的任务是添加图片显示功能、蛋疼，感觉有些生疏，先从头HTML标签到css 到jQuery 到bootstrap在复习一遍</p><p>2017年4月7日：今天把HTML及HTML5标签和css的一部分看了一遍，有些收获</p><p>2017年4月8日：今天把css重新看了一遍，查缺补漏</p><p>2017年4月9日：今天系统的再学习一遍js，从整体的角度来思考，包括js内置对象、js事件对象、Bom对象和DOM对象以及Ajax对象，及其在nodejs中应用的关系。</p><p>2017年4月10日：几天停电到下午5点半、、、晚上制作一个小特效。</p><p>2017年4月11日：上午完善点击事件触发的小特效。下午再次熟悉面向对象编程思想，温习坦克大战的视频，重新温习对象继承的相关知识，晚上计划重写贪吃蛇小游戏</p><p>2017年4月12日：今天一天去大爷家吃饭，一个姐夫在那吹了一天的牛，真的太浪费时间了，晚上回到家，看了会以前的编程视频</p><p>2017年4月13日：今天一个院里的哥添孩子，又耽误了我多半天，晚上依旧看视频，感觉对js的面向对象编程收获不少</p><p>2017年4月14日：今天本来应该开庭调解的，但是我没有去，琐事太多，有些学不进去，今天只是重新写了一遍贪吃蛇小游戏，今天一天完善它，计划明天再捋一捋。</p><p>2017年4月15日：这几天状态很差，今天终于算是把贪吃蛇放到了服务器上，但是触屏版还是有小bug，晚上再次温习BOM和DOM的知识。明天再温习一下DOM，然后再温习jQuery。尤其是里面的Ajax。</p><p>2017年4月16日：学习剩余的js内容，加强jQuery加强jQuery加强jQuery 今天主要学习jQuery，同时思考自己的小项目</p><p>2017年4月17日：依旧学习jQuery，为自己的注册页添加了表单验证。</p><p>2017年4月18日：学习jQuery，用jQuery重写重力球特效，</p><p>2017年4月19日：完成jQuery的学习，考虑Ajax在项目中的应用，并思考项目中需要更改的地方，相信弄完之后会很漂亮！哈哈</p><p>2017年4月24日：这五天一直在做整个网站的Ajax重构，总是遇到不可知的问题，包括防止网址直接访问，浏览器的前进后退问题，浏览器的重定向问题（依旧没有很好的解决），现在又遇到了无法解决的问题，初步定位为mongodb数据库的open，close的问题，所以决定把node-mongodb-native驱动换成mongoose驱动，重新学习mongoose，加油！！</p><p>2017年5月2日：到今天为止，Ajax重构终于完成，下一步就是制作图片显示页面和Ajax下服务器上传图片功能</p><p>2017年5月15日：除站内信功能，其他的都已经完成，一直在考虑是否需要加站内信功能？</p>
